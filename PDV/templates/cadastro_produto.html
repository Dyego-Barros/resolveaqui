{%extends 'base.html'%}

{%block title%}Cadastro Produto{%endblock%}

{%block page_title%}Cadastro Produto{%endblock%}

{%block content%}
<form method="post" name="produto" id="produto" class="form-control"  action="{%url 'cadastrarProduto'%}"  novalidate> 
  {%csrf_token%}
  <div class="row mb-3">
    <label for="inputText" class="col-sm-2 col-form-label">Código Produto *</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="codigo" id="codigo" required>
      <div class="invalid-feedback">Código do produto  é obrigatório!</div>
    </div>
  </div>
  <div class="row mb-3">
    <label for="inputText" class="col-sm-2 col-form-label">Nome *</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="nome" id="nome" required>
      <div class="invalid-feedback">Nome é obrigatório!</div>
    </div>
  </div>
  <div class="row mb-3">
    <label for="inputPassword" class="col-sm-2 col-form-label">Preço *</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="preco" id="preco" required>   
      <div class="invalid-feedback">preço é obrigatório!</div>                    
    </div>
  </div>
  <div class="row mb-3">
    <label for="inputPassword" class="col-sm-2 col-form-label">Quantidade *</label>
    <div class="col-sm-10">
      <input type="number" class="form-control" name="quantidade" id="quantidade" required>   
      <div class="invalid-feedback">Quantidade é obrigatório!</div>                    
    </div>
  </div>
  <div class="row mb-3">
    <label for="inputNumber" class="col-sm-2 col-form-label">Marca</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="marca" id="marca">
    </div>
  </div>
  <div class="row mb-3">
      <label for="inputNumber" class="col-sm-2 col-form-label">Descrição </label>
      <div class="col-sm-10">
        <textarea class="form-control" name="descricao" id="descricao" rows="4"></textarea>        
      </div>                     
  </div>

  <div class=" d-flex justify-content-end">
  <div class="row mb-3">                     
    <div class="col-sm-10">
      <button type="button" class="btn btn-primary" onclick="validate()">Cadastrar</button>
    </div>
  </div>
</div>
</form>
{%endblock%}
{%block script%}
<script>
    function validate(){
    form = document.getElementById("produto")   
    enviar = true
   
    

    if(!form.checkValidity()){    
        form.classList.add('was-validated')    
        preventDefault()
        stopPropagation()
        enviar = false
    }

    if(form){
      enviar= true
      form.submit()
    }
  }

  </script>
{%endblock%}